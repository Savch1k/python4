# python4
# Решение задач варианта 4

## Условия задач

### Задача 1
Создать замыкание, возвращающее только уникальные значения из переданных.

### Задача 2  
Создать декоратор, который будет ограничивать количество вызовов функций.

### Дополнительное требование
Применить декоратор к замыканию.

## Описание проделанной работы

### Задача 1: Замыкание для уникальных значений

**Реализация:**
- Создана функция `unique_values_closure()`, которая возвращает замыкание
- Внешняя функция создает множество `seen_values` для хранения уже встреченных значений
- Внутренняя функция `inner(*args)` принимает произвольное количество аргументов
- Фильтрует переданные значения, оставляя только те, которые еще не встречались
- Обновляет множество уникальных значений
- Возвращает список новых уникальных значений

**Особенности:**
- Состояние сохраняется между вызовами благодаря замыканию
- Каждое новое замыкание имеет собственное независимое состояние

### Задача 2: Декоратор ограничения вызовов

**Реализация:**
- Создана функция `call_limiter(max_calls)`, принимающая максимальное количество вызовов
- Возвращает декоратор, который создает обертку вокруг функции
- В обертке ведется счетчик вызовов с помощью замыкания
- При превышении лимита вызовов генерируется исключение `RuntimeError`
- Декоратор выводит информацию о номере вызова

**Особенности:**
- Декоратор параметризуемый (принимает максимальное количество вызовов)
- Работает с функциями, принимающими любые аргументы
- Сохраняет состояние между вызовами

### Применение декоратора к замыканию

Создана функция `get_unique_values()`, которая:
- Использует замыкание для работы с уникальными значениями
- Ограничена декоратором до 3 вызовов
- Демонстрирует комбинацию двух концепций

### Дополнительные примеры

1. **Функция `multiply`** - простое умножение с ограничением в 2 вызова
2. **Функция `factorial`** - рекурсивное вычисление факториала с ограничением в 5 вызовов

## Тестирование

Программа включает комплексное тестирование:
- Проверка работы замыкания с последовательными вызовами
- Проверка ограничения вызовов с генерацией исключений
- Демонстрация независимости состояний разных замыканий
- Тестирование комбинации декоратора и замыкания

## Использованные концепции Python

1. **Замыкания** - функции, запоминающие значения из внешней области видимости
2. **Декораторы** - функции, изменяющие поведение других функций
3. **Параметризуемые декораторы** - декораторы, принимающие аргументы
4. ***args** - обработка произвольного количества позиционных аргументов
5. **nonlocal** - работа с переменными из внешней области видимости
